<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Data：{{title}}</title>
        <script src="http://apps.bdimg.com/libs/jquery/1.11.1/jquery.min.js"></script>
        <script src="http://www.chinaudio.tech/static/js/ocr_labeling.js"></script>
        <script src="../static/js/gDBox.pkg.min.js"></script>
        <link href="http://www.chinaudio.tech/static/css/ocr_labeling.css" rel="stylesheet" type="text/css" />
        <link rel="icon" href="http://cdn.chinaudio.tech/static/image/favicon.ico" mce_href="http://cdn.chinaudio.tech/static/image/favicon.ico" type="image/x-icon">
    </head>
    <body >
        <div class="login" id="login" >
            <a href="../index/">Home</a>
            {% include "login_info_base.html" %}
        </div>
        <div class="main" id="main" >
            <div class="title" id="title">
                ocr标注数据库:{{title}}
            </div>
            <div class="image_info" id="image_info">
                frame_id:{{frame_id}}&nbsp&nbspori_width:{{ori_width}}&nbsp&nbspori_height:{{ori_height}}&nbsp&nbsptar_width:{{tar_width}}&nbsp&nbsptar_height:{{tar_height}}
            </div>
            <div class="page_image" id="page_image">
            </div>
            <div class="select_page" id="select_page">
                <table>
                    <tr>
                        <td>
                            <input type="number" id="input_page_id" min="0" max="{{frame_num|add:-1}}" value="{{frame_id}}"/>
                        </td>
                        <td>
                            <input type="button" id="sub_page_id" value="跳转" onclick="jump_page({{ocr_pdf_id}},{{frame_num}})"/>
                        </td>
                        <td>
                            <input type="button" id="prior_page" value="上一帧" onclick="move2prior({{ocr_pdf_id}},{{frame_id}},{{frame_num}})"/>
                        </td>
                        <td>
                            <input type="button" id="next_page" value="下一帧" onclick="move2next({{ocr_pdf_id}},{{frame_id}},{{frame_num}})"/>

                        </td>
                    </tr>
                </table>
            </div>
        </div>
        <script>
            const labeling_window_width = 1920;  // 预期标注窗口宽度（参考）
            const labeling_window_height = 1080; // 预期标注窗口高度（参考）
            $(document).ready(function() {
                while(typeof gDBox == "undefined"){
                    
                }
                // 常用样式声明
                const gFetureStyle = new gDBox.Style({strokeColor: '#0000FF', lineWeight: 2});
                // 容器对象声明
                let gMap = new gDBox.Map('page_image', {zoom: labeling_window_width, cx: 0, cy: 0, zoomMax: labeling_window_width* 10, zoomMin: 1920 / 10});
                // 设置当前操作模式为‘drawRect’
                gMap.setMode('drawRect', gFetureStyle);
                // 图片层实例\添加
                let gImageLayer = new gDBox.Layer.Image('img', '../ocr_labeling/get_image/?frame_id={{image_id}}&tar_width={{tar_width|safe}}&tar_height={{tar_height|safe}}', {w: {{tar_width|safe}}, h: {{tar_height|safe}}}, {zIndex: 1});
                gMap.addLayer(gImageLayer);
            });
        </script>
    </body>
</html>
